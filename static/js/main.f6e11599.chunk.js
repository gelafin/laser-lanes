(this["webpackJsonplaser-lanes"]=this["webpackJsonplaser-lanes"]||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n(1),s=n.n(a),c=n(9),l=n.n(c),r=n(6),o=n.n(r),u=n(3),h=n(4),p=n(2),g=n(8),f=n(7),j=(n(16),o.a.mark(O));function d(t){var e="https://live.staticflickr.com/65535/50724769872_da72a3fd7c_t.jpg",n="https://live.staticflickr.com/65535/50724684336_aaa14d5649_t.jpg";return t.isAlly?Object(i.jsxs)("div",{className:"ship",children:[Object(i.jsx)(v,{isAlly:!0,laserState:t.state}),Object(i.jsx)("img",{src:t.isAlly?n:e})]}):Object(i.jsxs)("div",{className:"ship",children:[Object(i.jsx)("img",{src:t.isAlly?n:e}),Object(i.jsx)(v,{isAlly:!1,laserState:t.state})]})}function v(t){var e,n=t.laserState,a=t.isAlly;if("charging"===n)e=a?"https://live.staticflickr.com/65535/50723947808_9809886476_t.jpg":"https://live.staticflickr.com/65535/50724684381_4ca6f500da_t.jpg";else{if("firing"!==n)return Object(i.jsx)("div",{className:"laser"});e=a?"https://live.staticflickr.com/65535/50724684431_bffd593096_t.jpg":"https://live.staticflickr.com/65535/50723947768_2ab5054c24_t.jpg"}return Object(i.jsx)("img",{src:e,className:"laser"})}function m(t){t.ships[0].isAlly&&console.log("          in ShipRow ",t.ships[0].getState());var e=t.ships.map((function(t){return Object(i.jsx)(d,{isAlly:t.isAlly,state:t.getState()},t.getId())}));return Object(i.jsx)("ul",{className:"game-row",children:e})}function b(t){var e=t.output,n=Array.from(e),a=t.reactKeys.values(),s=n.map((function(t,e){return Object(i.jsx)("div",{column:e,children:t},a.next().value)}));t.outputCharKeys;return Object(i.jsx)("div",{className:"output-container",children:Object(i.jsx)("ul",{className:"game-text game-row",children:s})})}var x=function(t){Object(g.a)(n,t);var e=Object(f.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).handleChange=i.handleChange.bind(Object(p.a)(i)),i}return Object(h.a)(n,[{key:"handleChange",value:function(t){this.props.onInputChange(t.target.value)}},{key:"render",value:function(){return Object(i.jsx)("form",{className:"input-container game-text-container flex-container",children:Object(i.jsx)("input",{type:"text",value:this.props.input,className:"input-box game-text",onChange:this.handleChange})})}}]),n}(s.a.Component);function O(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:return e.next=4,"ship"+(t++).toString();case 4:e.next=1;break;case 6:case"end":return e.stop()}}),j)}var y=function(){function t(e,n){Object(u.a)(this,t),this.alive=!0,this.state="idle",this.id=n,this.isAlly=e}return Object(h.a)(t,[{key:"getState",value:function(){return this.state}},{key:"getId",value:function(){return this.id}},{key:"advanceState",value:function(){"idle"===this.state?(console.log("in ShipObject::advanceState(): is idle, will charge"),this.state="charging"):"charging"===this.state?(console.log("in ShipObject::advanceState(): is charging, will fire"),this.state="firing"):(console.log("in ShipObject::advanceState(): is firing, will idle"),this.state="idle")}}]),t}(),S=function(t){Object(g.a)(n,t);var e=Object(f.a)(n);function n(t){var i;Object(u.a)(this,n);(i=e.call(this,t)).maxColumns=7,i.maxRows=5;var a=O();return i.state={input:"testt",allyShips:new Array(7).fill().map((function(){return new y(!0,a.next().value)})),enemyShips:new Array(7).fill().map((function(){return new y(!1,a.next().value)}))},i.handleInputChange=i.handleInputChange.bind(Object(p.a)(i)),i.tick=i.tick.bind(Object(p.a)(i)),i}return Object(h.a)(n,[{key:"tick",value:function(){var t=this;console.log("******ticking"),this.sfx.explosion.play().catch((function(){console.log("*****ERROR: audio play() promise rejected")})),this.setState((function(e){var n=e.allyShips;return console.log("     in setState(): current state: ",JSON.stringify(t.state)),n[0].advanceState(),console.log("     in setState(): state after change: ",JSON.stringify(t.state)),console.log("     in setState(): setting to this new ship object: ",n[0]),{allyShips:n}}),(function(){console.log(" > finished setState!")}))}},{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.tick()}),5e3),this.sfx={explosion:new Audio("./sfx/explosion.mp3"),chargingLaser:new Audio("./sfx/charging_laser.mp3"),firingLaser:new Audio("./sfx/firing_laser.mp3")},this.sfx.explosion.volume=.1,this.sfx.chargingLaser.volume=.1}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"handleInputChange",value:function(t){this.setState({input:t}),console.log("set input to ",t)}},{key:"render",value:function(){var t=this.maxColumns,e=new Array(t).fill(0).map((function(t,e){return e}));return console.log("     in render(): rendering shiprow with ",this.state.allyShips[0].getState()),Object(i.jsxs)("div",{className:"game-container flex-container",children:[Object(i.jsxs)("div",{className:"visuals-container",children:[Object(i.jsx)(m,{ships:this.state.enemyShips}),Object(i.jsx)(b,{output:this.state.input,reactKeys:e}),Object(i.jsx)(m,{ships:this.state.allyShips})]}),Object(i.jsx)("div",{children:Object(i.jsx)(x,{input:this.state.input,onInputChange:this.handleInputChange})})]})}}]),n}(s.a.Component),k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),i(t),a(t),s(t),c(t)}))};l.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root")),k()}},[[17,1,2]]]);
//# sourceMappingURL=main.f6e11599.chunk.js.map